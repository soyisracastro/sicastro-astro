---
import Card from './ui/Card.astro';

interface Props {
  title: string;
  excerpt: string;
  date: string;
  slug: string;
  category?: string;
  image?: string;
  author?: string;
}

const { title, excerpt, date, slug, image, author } = Astro.props;

// Format date
const formattedDate = new Date(date).toLocaleDateString('es-MX', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});
---

<Card variant="hover" href={`/blog/${slug}`}>
  <!-- Image -->
  {image && (
    <div class="mb-6 -m-8 -mt-8">
      <img
        src={image}
        alt={title}
        class="w-full aspect-video object-cover"
      />
    </div>
  )}

  <!-- Meta info -->
  <div class="flex items-center gap-2 text-sm text-text-tertiary mb-3">
    <time datetime={date}>{formattedDate}</time>
    {author && (
      <>
        <span>·</span>
        <span>{author}</span>
      </>
    )}
  </div>

  <!-- Title -->
  <h3 class="text-xl font-semibold text-text-primary mb-3 group-hover:text-text-primary leading-snug">
    {title}
  </h3>

  <!-- Excerpt -->
  <p class="text-[15px] text-text-secondary leading-relaxed line-clamp-3">
    {excerpt}
  </p>

  <!-- Read more link -->
  <div class="mt-4 text-[15px] text-primary font-medium group-hover:text-primary-dark transition-colors">
    Leer más
  </div>
</Card>